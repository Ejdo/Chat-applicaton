"use strict";(globalThis["webpackChunkslate_messenger"]=globalThis["webpackChunkslate_messenger"]||[]).push([[706],{706:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var t=l(9835);const a=(0,t._)("h1",{class:"text-center"},"Log in",-1),r={class:"column justify-center q-gutter-xs q-my-xl"},o={class:"column wrap content-center",style:{margin:"15px 35px"}};function i(e,s,l,i,n,u){const d=(0,t.up)("q-input"),c=(0,t.up)("q-icon"),m=(0,t.up)("q-checkbox"),p=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[a,(0,t._)("div",r,[(0,t.Wm)(d,{ref:"nameRef",outlined:"",autofocus:"",id:"email",modelValue:e.credentials.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.credentials.email=s),class:"col-12",label:"Email",error:e.userNotFound,rules:e.emailRules},{error:(0,t.w5)((()=>[(0,t.Uk)(" User not found ")])),_:1},8,["modelValue","error","rules"]),(0,t.Wm)(d,{ref:"passwordRef",outlined:"",id:"email",modelValue:e.credentials.password,"onUpdate:modelValue":s[2]||(s[2]=s=>e.credentials.password=s),class:"col-12",type:e.isPwd?"password":"text",label:"Password",rules:e.passwordRules},{append:(0,t.w5)((()=>[(0,t.Wm)(c,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=s=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,t.Wm)(m,{id:"rememberMe",modelValue:e.credentials.remember,"onUpdate:modelValue":s[3]||(s[3]=s=>e.credentials.remember=s),label:"Remember me"},null,8,["modelValue"])]),(0,t._)("div",o,[(0,t.Wm)(p,{class:"shadow-4 q-px-xl",color:"primary","text-color":"white","no-caps":"",label:"Log in",loading:e.loading,onClick:e.login,style:{"font-size":"20px"}},null,8,["loading","onClick"]),(0,t.Wm)(p,{to:{name:"register"},flat:"","no-caps":"",ripple:!0,color:"light-blue-10",label:"Register"})])],64)}var n=l(499);const u=(0,t.aZ)({name:"LoginPage",data(){return{credentials:{email:"",password:"",remember:!1},nameRef:(0,n.iH)(null),passwordRef:(0,n.iH)(null),isPwd:!0,userNotFound:!1,emailRules:[e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Email is invalid"],passwordRules:[e=>e.length>=8||"Password too short"]}},computed:{redirectTo(){return this.$route.query.redirect||{name:"chat"}},loading(){return"pending"===this.$store.state.auth.status}},methods:{login(){this.$store.dispatch("auth/login",this.credentials).then((()=>{this.$router.push(this.redirectTo)})).catch((e=>{"Request failed with status code 400"===e.message&&(this.userNotFound=!0)}))},onRedirect(){this.$router.push({name:"chat"})}}});var d=l(1639),c=l(6611),m=l(2857),p=l(1006),h=l(4455),g=l(9984),w=l.n(g);const b=(0,d.Z)(u,[["render",i]]),f=b;w()(u,"components",{QInput:c.Z,QIcon:m.Z,QCheckbox:p.Z,QBtn:h.Z})}}]);